{{{{raw-helper}}}}
{{{{/raw-helper}}}}
{{{{raw-helper}}}}
{{{{/raw-helper}}}}
{{> header}}
<div class='add-driver'>
    <div class='new-driver-content'>
    </div>
</div> 
{{{{raw-helper}}}}
{{{{/raw-helper}}}}
{{{{raw-helper}}}}
<script type="text/javascript">
    console.log("template data",UTILS.getCurrentTemplateData()),$(document).ready(function(){var e=UTILS.getCurrentTemplateData();console.log(e);var i=!1,n=new qq.FineUploaderBasic({request:{endpoint:CONSTANTS.apiServer+"files/service/profilePics",customHeaders:{Authorization:"Bearer "+API_HELPER.getToken()},params:{},paramsInBody:!1},validation:{allowedExtensions:["jpeg","jpg","png"],itemLimit:1,sizeLimit:5e6},callbacks:{onComplete:function(e,i,n){MENU_HELPER.menuClick("manageDrivers","manageDrivers")}},autoUpload:!1,multiple:!1});FORM_HELPER.draw(".new-driver-content",e,{bindings:{name:"column-1",mobile:"column-2",licenseNumber:"column-1",licenseExpiryDate:"column-2",experience:"column-1",email:"column-2",alternativePhone:"column-1",profilePic:"column-2"},schemaOverride:{fields:{experience:{title:"Experience (in years)"},licenseExpiryDate:{title:"License Expiry"}}},optionsOverride:{fields:{profilePic:{id:"upload",type:"file",selectionHandler:function(e,r){n.addFiles(e),i=!0}}}},postUrl:"drivers/service/addDriver",callbacks:{afterSubmit:function(e){console.log(e._id),1==i?(n.setParams({userid:e._id,type:"Drivers"}),n.uploadStoredFiles()):MENU_HELPER.menuClick("manageDrivers","manageDrivers")}}})});
</script>
{{{{/raw-helper}}}}