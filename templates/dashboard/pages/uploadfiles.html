{{{{raw-helper}}}}
<style>
.file_type{width:40px;height:40px;padding:5px;text-align:center}
</style>
{{{{/raw-helper}}}}
{{> header}}
<div class='upload-files'>
    <div class='upload-files-content'>
    </div>
    <div class="form-group">
    	  <form action="" id="myform">
             <select class="form-control" id="typeofdocument">
              <option>License</option>
              <option>Photo</option>
              <option>Load doc</option>
              <option>Unload doc</option>
              <option>Other doc</option>
            </select>
       			<input type="file" id="keyName" class="file" name="photos" multiple/>
       			<input type='submit' value='Upload' />
   		</form>  
    </div>
</div> 
{{{{raw-helper}}}}
<script id="grid-row-template-details" type="text/x-handlebars-template">
  <div class="container-fluid">
    <div class="row grid-row">
	    <div class="col-sm-12 grid-row-container">
        <div class="col-sm-2">
           <span class="file-other-icon"><i class="fa fa-file-photo-o text-danger"></i></span>
        </div>
       <div class="col-sm-8">{{originalname}}
            <br/>Aggrement
       </div>
       <div class="col-sm-2">
          <button type="button" class="btn btn-default" aria-label="Left Align" id="actiondelete">
           <span class="fa fa-trash-o fa-lg" aria-hidden="true" id="actiondelete"></span>
       </button>
        <button type="button" class="btn btn-default" aria-label="Left Align" id="actiondownload">
           <span class="fa fa-download fa-lg" aria-hidden="true" id="actiondelete"></span>
       </button>
       </div>
      </div>
   </div>
 </div>
</script>
{{{{/raw-helper}}}}
{{{{raw-helper}}}}
<script type="text/javascript">
    console.log("template data",UTILS.getCurrentTemplateData()),$(function(){$("#myform").on("submit",function(e){e.preventDefault();var o=UTILS.getCurrentTemplateData(),t=new FormData(this);t.append("photo",t);var a={};a.formData=t,a.uri="files/service/fileupload",a.extraHref="id="+o.id,a.type="POST",API_HELPER.uploadFiles(a,function(e,o){return e?void console.log("error",e):void location.reload()})})}),$(document).ready(function(){var e=UTILS.getCurrentTemplateData();new GRID_HELPER.GRID(".upload-files-content",{gridData:e,gridId:"gridUploadFiles",rowConfig:{template:"grid-row-template-details",optionsPostRender:function(e,o){},click:function(){if(console.log(arguments),"actiondelete"==arguments[0].target.id){console.log(arguments[1]);var e={};e.formData=JSON.stringify({name:"AA"}),e.uri="files/service/fileupload",e.extraHref="id="+arguments[1]._id,e.type="DELETE",API_HELPER.uploadFiles(e,function(e,o){return e?void console.log("error",e):void location.reload()})}else"actiondownload"==arguments[0].target.id&&console.log(arguments[1])}}})});
</script>
{{{{/raw-helper}}}}